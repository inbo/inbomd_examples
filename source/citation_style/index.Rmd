---
title: "Voorbeeld van referentiestijl"
author: 
  - 
    name: "Thierry Onkelinx & Floris Vanderhaeghe"
    email: "thierry.onkelinx@inbo.be"
link-citations: TRUE
site: bookdown::bookdown_site
bibliography: ../INBOmd.bib
output:
  bookdown::pdf_book:
    base_format: INBOmd::inbo_rapport
    style: INBO
    lof: FALSE
    lot: FALSE
  bookdown::gitbook:
    split_by: "chapter+number"
    template: !expr INBOmd::inbo_rapport_css("html")
    pandoc_args: !expr c("--csl", system.file("inbo.csl", package = "INBOmd"))
  bookdown::epub_book:
    stylesheet: "css/inbo_rapport.css"
    template: !expr INBOmd::inbo_rapport_css("epub")
    pandoc_args: !expr c("--csl", system.file("inbo.csl", package = "INBOmd"))
---

# Verwijzingen in tekst

```{r echo = FALSE, results = "asis"}
library(knitr)
natbib <- any(grepl("natbib", opts_knit$get()$rmarkdown.pandoc.args))
cat(
  sprintf(
    "Stijl referentielijst gebaseerd op %s.\n\n", 
    ifelse(natbib, "bst", "csl")
  )
)
```

Table: Verschillende types documenten

| BibTex type   | voorbeelden                                                  |
| ------------- | ------------------------------------------------------------ |
| Article       | [@article-single; @article-double; @article-triple] |
| Book          | [@book-a1e0; @book-a2e0; @book-a3e0; @book-a0e1; @book-a0e2; @book-a0e3; @BanerjeeEtal2003] |
| Booklet       | [@booklet-a0; @booklet-a1; @booklet-a2; @booklet-a3] |
| Conference    | [@conference-a1e1; @conference-a2e0; @conference-a3e3] |
| InBook        | [@inbook-a1e0; @inbook-a0e1; @inbook-a2e0; @inbook-a3e0] |
| InCollection  | [@incollection-a1e1; @incollection-a2e0; @incollection-a3e3] |
| InProceedings | [@inproceedings-a3e3; @inproceedings-a2e1; @inproceedings-a1e0; @Onkelinx2014a] |
| Manual        | [@manual-a3; @manual-a2; @manual-a1; @manual-a0] |
| MastersThesis | [@masterthesis] |
| Misc          | [@misc] |
| Misc (with type set as dataset)   | [@onkelinx_thierry_2019_2682323; @oosterlynck_patrik_2019_3550995] |
| Online (a BibLaTeX type) | [@databank_ondergrond_vlaanderen_bepalen_nodate; @european_topic_centre_on_biological_diversity_etc/bd_reference_2016; @wikipedia_muizenberg_2019] |
| PhdThesis     | [@phdthesis] |
| Proceedings   | [@proceedings-e0; @proceedings-e1; @proceedings-e2; @proceedings-e3] |
| TechReport    | [@techreport-a1; @techreport-a2; @techreport-a3] |
| Unpublished   | [@unpublished-a3; @unpublished-a2; @unpublished-a1] |


Table: Weergave van namen

| Bibtex                            | Weergave \hphantom{aaaaaaaaaaaaaaaaaa}|
| --------------------------------- | ------------------------------------- |
| Achternaam                        | @name0   |
| Achternaam, Voornaam              | @name1   |
| De Achternaam, V.                 | @name2   |
| Van de Achternaam, V              | @name3   |
| Achternaam, Voornaam Tweede       | @name4   |
| Achternaam, Voornaam Tweede Derde | @name5   |
| Achternaam, V. T. D.              | @name6   |
| Achternaam, VTD                   | @name7   |
| Achternaam, Voornaam TD           | @name8   |
| Accent áâàäçéêëèíuîïìóôöòúûüù     | @name9   |

## DOI of URL

- beide: @article-single
- enkel DOI: @Amano2012
- enkel URL: @franklin_mapping_2009

# Na te kijken

Algemene opvolging gebeurt in [deze gsheet](https://docs.google.com/spreadsheets/d/1cQfMKcVxCiGOH6s2np-uecRa-5_r1vS2MGRpqLGM2Gk).

## Op te volgen voor bst

Specifieke zaken (zie ook gsheet):

- Conference
  - `Organization` beter laten vallen in bst en dit veld niet ondersteunen? citeproc-js toont het niet en pandoc-citeproc voegt dit vooraan in het publisher-veld gevolg door ";" en publisher (dit gebeurt nog vóór de CSL-processing, dus bij omzetting bib-file).
- Laten vallen van “URL:” en “DOI:” prefixen.
- Zoals in csl: Nederlandstalige variant voorzien voor verschillende termen, o.a.: ed. (nl) ipv edn. (en) en Nr. (nl) ipv No. (en).
- Aanpassing van 'Vol. van', 'No. in' naar de afgesproken syntaxis (zie gsheet).
- Bij ontbreken van de datum:gebruik '(s.d.)' bij ontbreken van een datum (cf. csl)
  - zie voorbeeld @databank_ondergrond_vlaanderen_bepalen_nodate.
- Hanteer `<title>. <edition>` in plaats van	`<title>, <edition>`.
  - Reden: 'title' betreft soms meerdere delen, gescheiden door een punt (bv. titel. subtitel). Het laatste deel laten volgen door een komma en dan '2nd edn.' is wat raar. Zie bv. @book-a1e0.
  - NB. voor InBook wordt de voorgestelde werkwijze al gevolgd in bst.
- Voor het BibLaTeX type '**Online**' (aangewezen voor een webpage, want enkel dan wordt dit correct vertaald door pandoc en Zotero als een webpage): volgen van de csl weergave
  - weergave van `[WWW document]` na de titel
  - toevoegen van "(accessed `datum als tekst`). In csl gebeurt dit taal-afhankelijk, bv. (accessed June 30, 2020) versus (geraadpleegd 30 juni 2020).
  - merk op dat `@online` een BibLaTeX type is. Om een bib-file met dit type zonder probleem in te kunnen lezen in **JabRef**, moet je bij de preferences > advanced kiezen voor de _BibLaTeX mode_!
  

## Issues bij renderen met csl

Deze issues zijn niet oplosbaar via het csl-bestand.

### In R Markdown

Als gevolg van bug in de **bib2json** conversie van **pandoc-citeproc**:

- `Publisher`
  - "and" in `Publisher`wordt ";"
    
Als gevolg van bug in de CSL processor van **pandoc-citeproc**:

- `Series`, `Booktitle`:
  - Title Case wordt sentence case
    
### In Zotero

Bij renderen vanuit Zotero (dus mbv citeproc-js), na import van `INBOmd.bib` met **Better BibTeX** plugin en als gevolg van bugs in deze laatste:

- `journal = {Journal}` (in `INBOmd.bib`) wordt in Zotero `publication: 'The Journal'`, wat ook zo wordt weergegeven in bibliografie (dus _'The'_ wordt toegevoegd).
- `Series`, `Booktitle`, `Title`:
    - Title Case wordt sentence case


```{asis echo = FALSE, eval = !natbib}
\chapter*{Referenties}
\addcontentsline{toc}{chapter}{Referenties}
```

`r if (knitr::is_html_output() | !natbib) '# Referenties {-}'`
