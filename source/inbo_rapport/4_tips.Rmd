# Lay-out tips voor pdf

Bij de omzetting van Markdown naar pdf wordt gebruik gemaakt van [LaTeX](https://nl.wikipedia.org/wiki/LaTeX), software speciaal gemaakt voor het zetten van wetenschappelijke documenten. Meestal werk dit zeer goed. Soms gaat het de mist in. Vooral in situatie wanneer het aandeel tekst klein is in vergelijking met andere elementen zoals figuren en tabellen. Dit kan een indicatie zijn dat je te weinig tekst of te veel figuren hebt ;-)

## Nieuwe pagina forceren

Door `\pagebreak` te plaatsen forceer je de start van een nieuwe pagina op deze plaats. Dit kan handig zijn in de uitzonderlijke gevallen dat de pagina's niet helemaal goed gezet worden. Je gebruikt dit best enkel in de finale versie van je document.

## Problemen met zwevende figuren en tabellen

### Foutmelding: "too many unprocessed floats"

Je document bevat een hoofdstuk met heel veel zwevende figuren of tabellen die nog niet gezet worden. Dit treedt meestal op wanneer je meer dan 20 zwevende objecten hebt in een hoofdstuk. De truck is een `\FloatBarrier` plaatsen. Dit forceert dat eerst alle nog zwevende objecten gezet worden voor dat de rest van de tekst gezet wordt. 

### Zwevende figuur of tabel wordt in de volgende sectie geplaatst

LaTeX gaat zelf op zoek naar de optimale plaats om een zwevende figuur (of tabel) te plaatsen. Ideaal is dat vlakbij het punt waar je de figuur in de tekst geplaatst hebt. Wanneer je voldoende tekst hebt is dat meestal geen probleem. Is je figuur nogal groot of plaats je verschillende figuren vlak bij elkaar, dan gaat LaTeX opzoek naar een geschikte plaats verder in het document. Hierdoor kan het gebeuren dat de figuur in een volgende (sub)sectie terecht komt. Als je een `\FloatBarrier` toevoegt voor de nieuwe sectie begint, dan dwing je LaTeX om eerst alle nog zwevende elementen te plaatsen voor dat de volgende sectie gezet wordt.

### Automatische `\FloatBarrier`

Alle zwevende elementen bij INBOmd blijven steeds binnen het hoofdstuk waarin ze gedefinieerd zijn. Je kan dit strenger instellen door in de `yaml` de optie `floatbarrier: section` toe te voegen. Dit is equivalent met het manueel plaatsen van een  `\FloatBarrier` voor elke kop van niveau 2 of hoger (`#` en `##`). Andere opties zijn `floatbarrier: subsection` en `floatbarrier: subsubsection` die staan voor respectievelijk kop 3 (`#`, `##` en `###`) en kop 4 (`#`, `##`, `###` en `####`).

## Foutmelding bij het gebruik van `%` in bijschriften.

`%` wordt gebruikt als commentaarteken in LaTeX. In gewone tekst kan Markdown daar mee zonder problemen overweg, maar in bijschriften moet een kleine omweg gebruiken. Je moet deze truck ook gebruiken als je Markdown formattering wilt gebruiken in bijschriften.

````markdown
Een gewone paragraaf.

(ref:mijn-label) Een 100% **cool** `bijschrift`

`r ''````{r mijn-label, fig.cap='(ref:mijn-label)'}
plot(cars)  # jouw grafiek
```
````
