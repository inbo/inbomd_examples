# (PART) R gebaseerde output {-}

# Code

```{r datasets, error = TRUE, message = TRUE}
# logical
c(TRUE, FALSE)
# integer
0:1
# numeric
c(0.0, 1.1)
# scientific
c(1e-10, 1e10)
# character
c("maandag", "dinsdag", "woensdag")
# factor
factor(c("maandag", "dinsdag", "woensdag"))
# function
my_fun <- function(x){
  cat("mijn functie is", x)
}
# data.frame
state <- data.frame(
  region = state.region,
  Division = state.division,
  state.x77
)
# function
my_fun("cool")
# boodschappen
message("dit is een boodschap")
warning("dit is een waarschuwing")
stop("dit is een foutmelding")
# programma flow
if (is.data.frame(state)) {
  summary(state)
} else {
  stop("state is not a data.frame")
}
for (i in 1:5) {
  cat("i =", i, "\n")
}
```

# Figuren

## In-lijn figuren

Een in-lijn figuren worden steeds geplaatst waar de bijhorende code staat. Ze kunnen bijgevolg ook in een alinea geplaatst worden. Merk op dat in-lijn figuren om die reden geen bijschrift kunnen hebben. Je kan er evenmin naar verwijzen.

```{r gg-mtcars, warning = FALSE}
ggplot(
  mtcars, 
  aes(x = wt, y = mpg, colour = factor(cyl), fill = factor(cyl))
) +
  geom_point() + 
  geom_smooth(method = "lm")
```

## Zwevende figuren

Zwevende figuren worden in de buurt van de code geplaatst. Ze worden in de mate van de mogelijk op de plaats van de code geplaatst, bovenaan de pagina of onderaan de pagina. Indien veel figuren onmiddellijk na elkaar geplaatst worden zullen sommige figuren naar een volgende pagina verplaatst worden. Je kan er naar verwijzen op basis van de naam van de chunk: figuur \@ref(fig:movie), \@ref(fig:diamond) en \@ref(fig:gg-mtcars1).

De standaardafmeting van figuren is 4.5 inch (114 mm) breed en 2.9 inch (74 mm) hoog. Het bestandsformaat van de figuren hangt af van het output-formaat. In geval van pdf worden pdf figuren aangemaakt, in geval van HTML png figuren (300 dpi). Indien gewenst kan je hier van afwijken. Dat kan zowel door een nieuwe standaard op te geven voor het volledige bestand als door aangepaste afmetingen op te geven voor individuele figuren. Deze afmetingen moet je in inch opgeven. Je kan ook forceren om een ander bestandsformaat te gebruiken. Bijvoorbeeld 'png' in plaats van 'pdf'. Dan kan nuttig zijn wanneer de figuur uit veel elementen bestaat, bijvoorbeeld een scatterplot van een grote dataset.

```{r movie, fig.cap= "Verdeling aandeel slokdarmkander in Ille-et-Villaine, Frankrijk i.f.v. de leeftijdsgroep. Font size = 9", message = FALSE}
ggplot(esoph, aes(x = ncases / (ncases + ncontrols))) + 
  geom_histogram() + 
  facet_wrap(~agegp, scales = "free") + 
  theme_inbo(base_size = 9)
```

```{r diamond, fig.cap= "Histrogram van de diamantprijs i.f.v. van kwaliteit van het slijpwerk. Fontsize = 10", message = FALSE, fig.width = 6, fig.height = 4}
ggplot(diamonds, aes(x = price, fill = cut)) + 
  geom_histogram() + 
  theme_inbo(base_size = 10)
```

```{r gg-mtcars1, fig.cap= "Verbruik van wagens uit 1974 in miles per gallon in functie van hun gewicht in 1000 pond, opgesplitst volgens aantal cylinders. Fontsize = 11", dev = "png"}
ggplot(
  mtcars, 
  aes(x = wt, y = mpg, colour = factor(cyl), fill = factor(cyl))
) +
  geom_point() + 
  geom_smooth(method = "lm") +
  theme_inbo(base_size = 11)
```
